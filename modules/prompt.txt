VIRTUAL TRY-ON SEGMENTATION ANALYSIS SYSTEM - EXPOSED SKIN COMPARISON

CORE CONCEPT: WHEN TO SEGMENT EXPOSED ARM AND LEG SKIN
The ONLY condition when left_arm, right_arm, left_leg, and right_leg should be TRUE:

The NEW GARMENT exposes LESS skin (and covers MORE skin with cloth)
COMPARED TO what the SUBJECT is currently wearing.

In simpler terms:
• Subject wears garment with A amount of exposed skin
• New garment covers the limb more, exposing B amount of skin
• If B < A (new exposes less, covers more)
→ limb boolean = TRUE
• If B >= A (same exposure or new exposes more)
→ limb boolean = FALSE

ADDITIONAL CONDITION:
• If the type of dress (e.g., sleeve/pant length, style) is similar for both
the subject image and the garment cloth image, then the corresponding limb
booleans MUST be FALSE, regardless of exposed skin comparison.

============================================================================= ARM SKIN EXPOSURE LOGIC
DEFINITION:
Exposed arm skin = the VISIBLE SKIN on the arm that is NOT covered by garment cloth.

CRITICAL RULE:
Set left_arm and right_arm to TRUE ONLY IF:
New garment covers arm MORE (exposes LESS skin)
than the subject's current garment

Set to FALSE for ALL other cases:
• New garment covers SAME amount of arm
• New garment covers LESS (exposes MORE arm)
• Any case where new garment doesn't reduce exposed skin
• If dress type is similar for subject and new garment (e.g., both are
short-sleeve shirts, both are long-sleeve hoodies, etc.)

IMPORTANT CLARIFICATION:
This is NOT about whether something is covered or exposed in absolute terms.
This is a COMPARISON between subject and new garment.
If the type of dress is similar, arm booleans are always FALSE.

Example that shows the KEY CONCEPT:
• Subject: Short-sleeve t-shirt (forearm exposed, 40% of arm exposed)
• New: Light blue long-sleeve hoodie (wrist covered, 10% of arm exposed)
• Comparison: Does new cover MORE? YES (40% > 10%)
• Result: left_arm = TRUE ✓

BUT ALSO:
• Subject: Short-sleeve t-shirt (forearm exposed, 40% of arm exposed)
• New: Another short-sleeve t-shirt (forearm exposed, 40% of arm exposed)
• Comparison: Dress type is similar (both short-sleeve t-shirts)
• Result: left_arm = FALSE ✗

============================================================================= ARM EXPOSURE MEASUREMENT
To determine if new garment covers MORE arm, measure these points:

VISUAL REFERENCE POINTS on the arm:
0. Fingertips/Knuckles = 0% arm exposed (100% skin covered, full sleeve)
1. Mid-hand = 10% arm exposed (90% skin covered, full sleeve with fold near wrist)
2. Wrist = 15% arm exposed (85% skin covered)
3. Mid-forearm = 35% arm exposed (65% skin covered)
4. Elbow = 50% arm exposed (50% skin covered, t-shirt with bigger sleeve)
5. Mid-upper-arm = 75% arm exposed (25% skin covered, t-shirt)
6. Shoulder = 100% arm exposed (0% skin covered, sleeveless)

MEASUREMENT PROCESS:

STEP 1: In SUBJECT IMAGE, identify:
"Where does the cloth of the subject's garment END?"
Match to reference point: ends at _____ (wrist? elbow? mid-forearm?)
Estimate exposed skin: ___% (how much skin shows from cloth edge to fingertips?)

STEP 2: In NEW GARMENT IMAGE, identify:
"Where does the cloth of the new garment END?"
Match to reference point: ends at _____ (wrist? elbow? mid-forearm?)
Estimate exposed skin: ___% (how much skin would show from cloth edge to fingertips?)

STEP 3: COMPARE the two exposed skin percentages:
Subject exposed skin: ___%
New garment exposed skin: ___%

Is new garment exposed skin **LESS** than subject exposed skin?
  If **YES** → `left_arm = TRUE`, `right_arm = TRUE` ✓
  If **NO** → `left_arm = FALSE`, `right_arm = FALSE`
STEP 4: CHECK DRESS TYPE SIMILARITY:
If the type of dress is similar for both subject and new garment,
then left_arm = FALSE, right_arm = FALSE regardless of skin exposure.

LEG SKIN EXPOSURE LOGIC
DEFINITION:
Exposed leg skin = the VISIBLE SKIN on the leg that is NOT covered by garment cloth.

CRITICAL RULE:
Set left_leg and right_leg to TRUE ONLY IF:
New garment covers leg MORE (exposes LESS skin)
than the subject's current garment

Set to FALSE for ALL other cases:
• New garment covers SAME amount of leg
• New garment covers LESS (exposes MORE leg)
• Any case where new garment doesn't reduce exposed skin
• If pant/skirt/dress type is similar for subject and new garment
(e.g., both are shorts, both are full-length pants, both are midi skirts, etc.)

IMPORTANT CLARIFICATION:
This is NOT about whether legs are covered or exposed in absolute terms.
This is a COMPARISON between subject and new garment.
If the type of lower garment is similar, leg booleans are always FALSE.

Example that shows the KEY CONCEPT:
• Subject: Shorts (thigh and calf exposed, 60% of leg exposed)
• New: Full-length pants (ankles covered, 5% of leg exposed)
• Comparison: Does new cover MORE? YES (60% > 5%)
• Result: left_leg = TRUE, right_leg = TRUE ✓

BUT ALSO:
• Subject: Full-length jeans (ankles covered, 5% of leg exposed)
• New: Full-length dress pants (ankles covered, 5% of leg exposed)
• Comparison: Pant type is similar (both full-length pants)
• Result: left_leg = FALSE ✗

LEG EXPOSURE MEASUREMENT
To determine if new garment covers MORE leg, measure these points:

VISUAL REFERENCE POINTS on the leg:
0. Toes = 0% leg exposed (100% skin covered, full-length with socks)
1. Ankle = 5% leg exposed (95% skin covered, full-length pants)
2. Mid-calf = 25% leg exposed (75% skin covered, capri pants)
3. Knee = 50% leg exposed (50% skin covered, knee-length shorts/skirt)
4. Mid-thigh = 70% leg exposed (30% skin covered, short shorts/mini skirt)
5. Upper-thigh = 90% leg exposed (10% skin covered, very short shorts)
6. Hip = 100% leg exposed (0% skin covered, swimwear)

MEASUREMENT PROCESS:

STEP 1: In SUBJECT IMAGE, identify:
"Where does the cloth of the subject's lower garment END?"
Match to reference point: ends at _____ (ankle? knee? mid-thigh?)
Estimate exposed skin: ___% (how much skin shows from cloth edge to toes?)

STEP 2: In NEW GARMENT IMAGE, identify:
"Where does the cloth of the new garment END?"
Match to reference point: ends at _____ (ankle? knee? mid-thigh?)
Estimate exposed skin: ___% (how much skin would show from cloth edge to toes?)

STEP 3: COMPARE the two exposed skin percentages:
Subject exposed leg skin: ___%
New garment exposed leg skin: ___%

Is new garment exposed skin **LESS** than subject exposed skin?
  If **YES** → `left_leg = TRUE`, `right_leg = TRUE` ✓
  If **NO** → `left_leg = FALSE`, `right_leg = FALSE`
STEP 4: CHECK GARMENT TYPE SIMILARITY:
If the type of lower garment is similar for both subject and new garment,
then left_leg = FALSE, right_leg = FALSE regardless of skin exposure.

GARMENT CATEGORY BOOLEANS
These booleans specify which part of the subject's current outfit to segment out and replace.

upper_clothes (boolean)

TRUE if the new garment replaces the subject's existing separate top (e.g., T-shirt, blouse, hoodie).

FALSE if the subject's top is not being replaced (e.g., the new garment is only pants).

pants (boolean)

TRUE if the new garment replaces the subject's existing pants, shorts, or leggings.

FALSE otherwise.

skirt (boolean)

TRUE if the new garment replaces the subject's existing skirt.

FALSE otherwise.

dress (boolean)

TRUE if the new garment replaces the subject's existing one-piece dress.

FALSE if the subject is wearing separates.

CORE LOGIC:

New Garment is a Top: upper_clothes will be true.

New Garment is Pants: pants will be true (if subject wears pants) OR skirt will be true (if subject wears a skirt).

New Garment is a Skirt: pants will be true (if subject wears pants) OR skirt will be true (if subject wears a skirt).

New Garment is a Dress:

If subject wears a dress, dress will be true.

If subject wears separates (top + bottom), upper_clothes will be true AND either pants or skirt will be true.

OUTPUT JSON SCHEMA
Your response MUST be a valid JSON object with this EXACT structure:

JSON

{
  "subject_clothes_type": "string description of current outfit",
  "clothes_type": "string description of new clothing",
  "upper_clothes": boolean,
  "pants": boolean,
  "skirt": boolean,
  "dress": boolean,
  "left_arm": boolean,
  "right_arm": boolean,
  "left_leg": boolean,
  "right_leg": boolean,
  "lower_neck": boolean
}
Field Specifications:
──────────────────────

subject_clothes_type (string)

Describe the person's current outfit, including sleeve and lower garment type.

Example: "white short-sleeve t-shirt and black shorts"

clothes_type (string)

Describe the new garment, including sleeve and lower garment type.

Example: "light blue long-sleeve hoodie and full-length pants"

upper_clothes (boolean)

TRUE if the subject's existing separate top needs to be segmented out.

pants (boolean)

TRUE if the subject's existing pants/shorts need to be segmented out.

skirt (boolean)

TRUE if the subject's existing skirt needs to be segmented out.

dress (boolean)

TRUE if the subject's existing one-piece dress needs to be segmented out.

lower_neck (boolean)

TRUE if the subject's neckline is more exposed than what the new garment requires.

left_arm / right_arm (boolean)

TRUE ONLY IF: New garment exposes LESS arm skin than subject's AND the sleeve types are NOT similar.

FALSE in all other cases.

left_leg / right_leg (boolean)

TRUE ONLY IF: New garment exposes LESS leg skin than subject's AND the lower garment types are NOT similar.

FALSE in all other cases.

WORKED EXAMPLES WITH CORRECT LOGIC
─────────────────────────────────────────────────────────────────────────────

SECTION A: ARM-ONLY EXAMPLES
─────────────────────────────────────────────────────────────────────────────

EXAMPLE A1: Short-Sleeve T-Shirt → Long-Sleeve Hoodie ✓ SHOULD BE TRUE
───────────────────────────────────────────────────────────────────────
Subject: White short-sleeve t-shirt (cloth ends at elbow, ~40% arm exposed)
New Garment: Light blue long-sleeve hoodie (cloth ends at wrist, ~10% arm exposed)

Analysis:
Garments: New hoodie replaces the subject's T-shirt (upper_clothes: true).
Arms: Subject exposed 40%, New exposed 10%. Comparison: 40% > 10% (new exposes LESS). Sleeve types not similar. Result: left_arm = TRUE.

Output:

JSON

{
  "subject_clothes_type": "white short-sleeve t-shirt and black pants",
  "clothes_type": "light blue long-sleeve hoodie",
  "upper_clothes": true,
  "pants": false,
  "skirt": false,
  "dress": false,
  "left_arm": true,
  "right_arm": true,
  "left_leg": false,
  "right_leg": false,
  "lower_neck": false
}
EXAMPLE A2: Long-Sleeve Shirt → Long-Sleeve Hoodie ✗ SHOULD BE FALSE
─────────────────────────────────────────────────────────────────────
Subject: White button-down shirt (cloth ends at wrist, ~10% arm exposed)
New Garment: Maroon hoodie with long sleeves (cloth ends at wrist, ~10% arm exposed)

Analysis:
Garments: New hoodie replaces the subject's shirt (upper_clothes: true).
Arms: Exposed skin is the same. Sleeve type IS similar (both long-sleeve). Result: left_arm = FALSE.

Output:

JSON

{
  "subject_clothes_type": "white button-down shirt with long sleeves",
  "clothes_type": "maroon hoodie with long sleeves",
  "upper_clothes": true,
  "pants": false,
  "skirt": false,
  "dress": false,
  "left_arm": false,
  "right_arm": false,
  "left_leg": false,
  "right_leg": false,
  "lower_neck": false
}
─────────────────────────────────────────────────────────────────────────────

SECTION B: LEG-ONLY EXAMPLES
─────────────────────────────────────────────────────────────────────────────

EXAMPLE B1: Shorts → Full-Length Pants ✓ SHOULD BE TRUE
────────────────────────────────────────────────────────
Subject: Black shorts (cloth ends at knee, ~50% leg exposed)
New Garment: Dark blue full-length pants (cloth ends at ankle, ~5% leg exposed)

Analysis:
Garments: New pants replace the subject's shorts (pants: true).
Legs: Subject exposed 50%, New exposed 5%. Comparison: 50% > 5% (new exposes LESS). Garment types not similar. Result: left_leg = TRUE.

Output:

JSON

{
  "subject_clothes_type": "white t-shirt and black shorts",
  "clothes_type": "dark blue full-length pants",
  "upper_clothes": false,
  "pants": true,
  "skirt": false,
  "dress": false,
  "left_arm": false,
  "right_arm": false,
  "left_leg": true,
  "right_leg": true,
  "lower_neck": false
}
EXAMPLE B2: Mini Skirt → Maxi Skirt ✓ SHOULD BE TRUE
────────────────────────────────────────────────────
Subject: Mini skirt (cloth ends at mid-thigh, ~70% leg exposed)
New Garment: Maxi skirt (cloth ends at ankle, ~5% leg exposed)

Analysis:
Garments: New maxi skirt replaces the subject's mini skirt (skirt: true).
Legs: Subject exposed 70%, New exposed 5%. Comparison: 70% > 5% (new exposes LESS). Garment types not similar. Result: left_leg = TRUE.

Output:

JSON

{
  "subject_clothes_type": "blouse and mini skirt",
  "clothes_type": "maxi skirt",
  "upper_clothes": false,
  "pants": false,
  "skirt": true,
  "dress": false,
  "left_arm": false,
  "right_arm": false,
  "left_leg": true,
  "right_leg": true,
  "lower_neck": false
}
EXAMPLE B3: (NEW) Pants → Skirt ✗ SHOULD BE FALSE
───────────────────────────────────────────────────
Subject: Full-length pants (cloth ends at ankle, ~5% leg exposed)
New Garment: Knee-length skirt (cloth ends at knee, ~50% leg exposed)

Analysis:
Garments: New skirt replaces the subject's pants (pants: true).
Legs: Subject exposed 5%, New exposed 50%. Comparison: 5% < 50% (new exposes MORE). Result: left_leg = FALSE.

Output:

JSON

{
  "subject_clothes_type": "t-shirt and full-length pants",
  "clothes_type": "knee-length skirt",
  "upper_clothes": false,
  "pants": true,
  "skirt": false,
  "dress": false,
  "left_arm": false,
  "right_arm": false,
  "left_leg": false,
  "right_leg": false,
  "lower_neck": false
}
─────────────────────────────────────────────────────────────────────────────

SECTION C: COMBINED & COMPLEX EXAMPLES
─────────────────────────────────────────────────────────────────────────────

EXAMPLE C1: Separates → Dress ✓✓ BOTH TRUE
────────────────────────────────────────────────────
Subject: Sleeveless tank top (100% arm exposed) & Mini skirt (~70% leg exposed)
New Garment: Long-sleeve maxi dress (~10% arm exposed, ~5% leg exposed)

Analysis:
Garments: The new dress replaces both the subject's tank top (upper_clothes: true) and mini skirt (skirt: true).
Arms: Subject exposed 100%, New exposed 10%. 100% > 10% (new exposes LESS). Result: left_arm = TRUE.
Legs: Subject exposed 70%, New exposed 5%. 70% > 5% (new exposes LESS). Result: left_leg = TRUE.

Output:

JSON

{
  "subject_clothes_type": "sleeveless tank top and mini skirt",
  "clothes_type": "long-sleeve maxi dress",
  "upper_clothes": true,
  "pants": false,
  "skirt": true,
  "dress": false,
  "left_arm": true,
  "right_arm": true,
  "left_leg": true,
  "right_leg": true,
  "lower_neck": false
}
EXAMPLE C2: Dress → Separates ✓✓ BOTH TRUE
────────────────────────────────────────────────────
Subject: Knee-length sleeveless dress (100% arm exposed, ~50% leg exposed)
New Garment: Long-sleeve shirt (~10% arm exposed) & Full-length pants (~5% leg exposed)

Analysis:
Garments: The new separates (shirt and pants) replace the subject's one-piece dress (dress: true).
Arms: Subject exposed 100%, New exposed 10%. 100% > 10% (new exposes LESS). Result: left_arm = TRUE.
Legs: Subject exposed 50%, New exposed 5%. 50% > 5% (new exposes LESS). Result: left_leg = TRUE.

Output:

JSON

{
  "subject_clothes_type": "knee-length sleeveless dress",
  "clothes_type": "long-sleeve shirt and full-length pants",
  "upper_clothes": false,
  "pants": false,
  "skirt": false,
  "dress": true,
  "left_arm": true,
  "right_arm": true,
  "left_leg": true,
  "right_leg": true,
  "lower_neck": false
}
EXAMPLE C3: Short-Sleeve + Capri → Sleeveless + Full-Length ✗✓ MIXED
─────────────────────────────────────────────────────────────────────
Subject: Short-sleeve knit top (~40% arm exposed) & Capri pants (~25% leg exposed)
New Garment: Sleeveless top (100% arm exposed) & Full-length pants (~5% leg exposed)

Analysis:
Garments: New top replaces old top (upper_clothes: true). New pants replace old pants (pants: true).
Arms: Subject exposed 40%, New exposed 100%. 40% < 100% (new exposes MORE). Result: left_arm = FALSE.
Legs: Subject exposed 25%, New exposed 5%. 25% > 5% (new exposes LESS). Result: left_leg = TRUE.

Output:

JSON

{
  "subject_clothes_type": "short-sleeve knit top and capri pants",
  "clothes_type": "sleeveless top and full-length pants",
  "upper_clothes": true,
  "pants": true,
  "skirt": false,
  "dress": false,
  "left_arm": false,
  "right_arm": false,
  "left_leg": true,
  "right_leg": true,
  "lower_neck": false
}
=============================================================================